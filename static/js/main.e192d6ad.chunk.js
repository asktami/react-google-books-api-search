(window["webpackJsonpreact-google-books-api-search"]=window["webpackJsonpreact-google-books-api-search"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),l=a.n(o),c=a(1),s=a(2),i=a(4),u=a(3),m=a(5),h=a(8),p=["all","books","magazines"],f=["partial","full","free-ebooks","paid-ebooks","ebooks"],b="AIzaSyCIxIIcpTwWrV5HmCj_q4AWZRAqD7y6CFI",g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchTerm:"",printType:"all",bookType:"full"},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r)),console.log("name = ",n),console.log("value = ",r)},a.fetchBooks=function(){var e="https://www.googleapis.com/books/v1/volumes?key=".concat(b,"&langRestrict=en&maxResults=40&orderBy=relevance&q=").concat(a.state.searchTerm,"&filter=").concat(a.state.bookType,"&printType=").concat(a.state.printType);console.log("getURL = ",JSON.stringify(e)),fetch(e).then(function(e){if(!e.ok)throw new Error("Something went wrong, please try again later.");return e}).then(function(e){return e.json()}).then(function(e){a.props.updateResults(e),a.setState({error:null})}).catch(function(e){a.setState({error:e.message})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.fetchBooks()}},{key:"render",value:function(){var e=this,t=f.map(function(e,t){return r.a.createElement("option",{value:e,key:e},e)}),a=p.map(function(e,t){return r.a.createElement("option",{value:e,key:e},e)});return r.a.createElement("div",{className:"header_content"},r.a.createElement("h1",null,"Google Book Search"),r.a.createElement("form",{id:"form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("legend",null),r.a.createElement("label",{htmlFor:"searchTerm"},r.a.createElement("input",{type:"text",name:"searchTerm",id:"searchTerm",required:!0,"aria-required":"true",placeholder:"",value:this.state.searchTerm,onChange:this.handleChange})),r.a.createElement("button",{id:"search"},"search"),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",{htmlFor:"printType"},"Print Type"," ",r.a.createElement("select",{id:"printType",name:"printType",value:this.state.printType,onChange:this.handleChange},a)),r.a.createElement("label",{htmlFor:"bookType"},r.a.createElement("select",{id:"bookType",name:"bookType",value:this.state.bookType,onChange:this.handleChange},t)))),r.a.createElement("p",{id:"error-message",className:"error-message"},this.state.error))}}]),t}(r.a.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){console.log("inITEM"),console.log(JSON.stringify(this.props.book.volumeInfo.title));var e=this.props.book,t=function(e){var t=e.volumeInfo&&e.volumeInfo.authors;if(!t)return r.a.createElement("span",null,"No authors to display");return t.map(function(e,t){return r.a.createElement("span",{key:t},e)})}(e),a=function(e){var t=e.volumeInfo&&e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.smallThumbnail;return t||n}(e),n="https://via.placeholder.com/150";return r.a.createElement("li",null,e.volumeInfo.title,r.a.createElement("br",null),t,r.a.createElement("br",null),r.a.createElement("img",{src:a,alt:a?e.volumeInfo.title:"no-image"}))}}]),t}(r.a.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.searchResults&&this.props.searchResults[0];if(e){console.log("in results - searchResults items");var t=e.items.map(function(e,t){return console.log(e.volumeInfo.title),r.a.createElement(v,{key:t,book:e})});console.log("bookList length = ",t.length),console.log("bookList = ",t)}return r.a.createElement("section",{id:"results"},r.a.createElement("h2",null,"Search Results"),[])}}]),t}(r.a.Component),y=(a(14),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchResults:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"updateResults",value:function(e){this.setState({searchResults:[e]})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(g,{updateResults:function(t){return e.updateResults(t)}})),r.a.createElement("main",null,r.a.createElement(k,{searchResults:this.state.searchResults})),r.a.createElement("footer",null,r.a.createElement("button",{className:"back-to-top"},r.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/circled-chevron-up.png",alt:"Back to Top"})),r.a.createElement("span",null,r.a.createElement("a",{href:"https://icons8.com/icon/7695/search-filled",title:"Search icon at Icons8.com",target:"_blank",rel:"noopener noreferrer"},"Icons by Icons8"),"\u2022 Photo by Ria Puskas on Unsplash \u2022 Built by",r.a.createElement("a",{href:"http://www.asktami.com",target:"_blank",rel:"noopener noreferrer"},"Tami Williams"))))}}]),t}(r.a.Component));a(15);l.a.render(r.a.createElement(y,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.e192d6ad.chunk.js.map