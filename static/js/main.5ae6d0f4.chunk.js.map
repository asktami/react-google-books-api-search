{"version":3,"sources":["Search.js","ItemButtons.js","Item.js","Results.js","BackToTop.js","App.js","index.js"],"names":["printTypes","bookTypes","apiKey","apiURL","Search","state","searchTerm","printType","bookType","handleChange","event","target","name","value","setState","fetchBooks","getURL","fetch","then","res","ok","Error","json","data","props","updateResults","error","catch","err","message","e","preventDefault","this","bookTypeOptions","map","bookTypeOption","i","key","printTypeOptions","printTypeOption","className","id","onSubmit","handleSubmit","htmlFor","type","required","aria-required","placeholder","onChange","React","Component","ItemButtons","href","link","rel","Item","book","imgPlaceholderURL","authorList","volumeInfo","authors","author","index","push","join","getAuthorList","smallThumbnail","smallThumbnailURL","imageLinks","getSmallThumbnail","price","saleInfo","retailPrice","amount","currency","currencyCode","getPrice","title","buyLink","src","alt","description","Results","searchResults","bookList","totalItems","items","length","BackToTop","onClick","goBackToTop","style","display","showBackToTop","App","handleScroll","window","scrollY","scrollToRef","ref_SearchResults","el","scrollTo","top","current","offsetTop","behavior","ref_SearchForm","createRef","addEventListener","removeEventListener","ref","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5ae6d0f4.chunk.js","sourcesContent":["import React from 'react';\n\nconst printTypes = ['all', 'books', 'magazines'];\nconst bookTypes = ['partial', 'full', 'free-ebooks', 'paid-ebooks', 'ebooks'];\n\nconst apiKey = 'AIzaSyCIxIIcpTwWrV5HmCj_q4AWZRAqD7y6CFI';\nconst apiURL = 'https://www.googleapis.com/books/v1/volumes';\n\nexport class Search extends React.Component {\n\tstate = {\n\t\tsearchTerm: '',\n\t\tprintType: 'all',\n\t\tbookType: 'full'\n\t};\n\n\thandleChange = event => {\n\t\tconst {\n\t\t\ttarget: { name, value }\n\t\t} = event;\n\t\tthis.setState({ [name]: value });\n\t};\n\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\tthis.fetchBooks();\n\t\t// show results when click search\n\t}\n\n\tfetchBooks = () => {\n\t\tconst getURL = `${apiURL}?key=${apiKey}&langRestrict=en&maxResults=40&orderBy=relevance&q=${this.state.searchTerm}&filter=${this.state.bookType}&printType=${this.state.printType}`;\n\n\t\t// console.log(getURL);\n\t\t// console.log(JSON.stringify(this.state.searchTerm, null, 2));\n\n\t\tfetch(getURL)\n\t\t\t.then(res => {\n\t\t\t\tif (!res.ok) {\n\t\t\t\t\tthrow new Error('Something went wrong, please try again later.');\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.props.updateResults(data);\n\t\t\t\tthis.setState({\n\t\t\t\t\terror: null\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tthis.setState({\n\t\t\t\t\terror: err.message\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\trender() {\n\t\tconst bookTypeOptions = bookTypes.map((bookTypeOption, i) => (\n\t\t\t<option value={bookTypeOption} key={bookTypeOption}>\n\t\t\t\t{bookTypeOption}\n\t\t\t</option>\n\t\t));\n\t\tconst printTypeOptions = printTypes.map((printTypeOption, i) => (\n\t\t\t<option value={printTypeOption} key={printTypeOption}>\n\t\t\t\t{printTypeOption}\n\t\t\t</option>\n\t\t));\n\n\t\treturn (\n\t\t\t<div className=\"header_content\">\n\t\t\t\t<h1>Google Book Search</h1>\n\n\t\t\t\t<form id=\"form\" onSubmit={e => this.handleSubmit(e)}>\n\t\t\t\t\t<legend />\n\n\t\t\t\t\t<label htmlFor=\"searchTerm\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"searchTerm\"\n\t\t\t\t\t\t\tid=\"searchTerm\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\taria-required=\"true\"\n\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\tvalue={this.state.searchTerm}\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</label>\n\t\t\t\t\t<button id=\"search\">search</button>\n\n\t\t\t\t\t<div className=\"select-container\">\n\t\t\t\t\t\t<label htmlFor=\"printType\">\n\t\t\t\t\t\t\tPrint Type{' '}\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tid=\"printType\"\n\t\t\t\t\t\t\t\tname=\"printType\"\n\t\t\t\t\t\t\t\tvalue={this.state.printType}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{printTypeOptions}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label htmlFor=\"bookType\">\n\t\t\t\t\t\t\tBook Type{' '}\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tid=\"bookType\"\n\t\t\t\t\t\t\t\tname=\"bookType\"\n\t\t\t\t\t\t\t\tvalue={this.state.bookType}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{bookTypeOptions}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\n\t\t\t\t<p id=\"error-message\" className=\"error-message\">\n\t\t\t\t\t{this.state.error}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\n\nexport class ItemButtons extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"item-buttons\">\n\t\t\t\t<a href={this.props.link} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\tview\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport { ItemButtons } from './ItemButtons';\n\nexport class Item extends React.Component {\n\trender() {\n\t\tconst { book } = this.props;\n\n\t\tconst imgPlaceholderURL = 'https://via.placeholder.com/150';\n\n\t\tconst authorList = getAuthorList(book);\n\t\tconst smallThumbnail = getSmallThumbnail(book);\n\t\tconst price = getPrice(book);\n\n\t\tfunction getAuthorList(book) {\n\t\t\tlet authorList = book.volumeInfo && book.volumeInfo.authors;\n\n\t\t\tlet authors = [];\n\t\t\tif (!authorList) {\n\t\t\t\treturn 'N/A';\n\t\t\t}\n\t\t\tauthorList.map((author, index) => authors.push(author));\n\n\t\t\treturn authors.join(', ');\n\t\t}\n\n\t\tfunction getPrice(book) {\n\t\t\tlet price = book.saleInfo.retailPrice && book.saleInfo.retailPrice.amount;\n\n\t\t\tlet currency =\n\t\t\t\tbook.saleInfo.retailPrice && book.saleInfo.retailPrice.currencyCode;\n\n\t\t\tif (!price) {\n\t\t\t\treturn 'N/A';\n\t\t\t}\n\n\t\t\treturn `${price} ${currency}`;\n\t\t}\n\n\t\tfunction getSmallThumbnail(book) {\n\t\t\tlet smallThumbnailURL =\n\t\t\t\tbook.volumeInfo &&\n\t\t\t\tbook.volumeInfo.imageLinks &&\n\t\t\t\tbook.volumeInfo.imageLinks.smallThumbnail;\n\t\t\treturn smallThumbnailURL ? smallThumbnailURL : imgPlaceholderURL;\n\t\t}\n\n\t\treturn (\n\t\t\t<li className=\"item\">\n\t\t\t\t<div className=\"item-header\">\n\t\t\t\t\t<div className=\"item-subhead\">\n\t\t\t\t\t\t<h3>{book.volumeInfo.title}</h3>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tAuthor: {authorList}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tPrice: {price}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ItemButtons link={book.saleInfo.buyLink} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"item-description-container\">\n\t\t\t\t\t<div className=\"item-description\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={smallThumbnail}\n\t\t\t\t\t\t\talt={smallThumbnail ? book.volumeInfo.title : 'no-image'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{book.volumeInfo.description}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport { Item } from './Item';\n\nexport class Results extends React.Component {\n\trender() {\n\t\tconst { searchResults } = this.props;\n\n\t\tlet bookList = [];\n\n\t\tif (\n\t\t\tsearchResults[0] &&\n\t\t\tsearchResults[0].totalItems &&\n\t\t\tsearchResults[0].items\n\t\t) {\n\t\t\tbookList = searchResults[0].items.map((book, index) => {\n\t\t\t\treturn <Item key={index} book={book} />;\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<section id=\"results\">\n\t\t\t\t<h2>Search Results</h2>\n\t\t\t\t<ul id=\"results-list\" className=\"item-list\">\n\t\t\t\t\t{!bookList.length ? 'No books found!' : <>{bookList}</>}\n\t\t\t\t</ul>\n\t\t\t</section>\n\t\t);\n\t}\n}\n","import React from 'react';\n\nexport class BackToTop extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tid=\"back-to-top\"\n\t\t\t\tclassName=\"back-to-top\"\n\t\t\t\tonClick={this.props.goBackToTop}\n\t\t\t\tstyle={{ display: this.props.showBackToTop ? 'block' : 'none' }}\n\t\t\t>\n\t\t\t\tback to top\n\t\t\t</button>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport { Search } from './Search';\nimport { Results } from './Results';\nimport { BackToTop } from './BackToTop';\n\nimport './App.css';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.ref_SearchForm = React.createRef();\n\t\tthis.ref_SearchResults = React.createRef();\n\t}\n\n\tstate = {\n\t\tsearchResults: [],\n\t\tshowBackToTop: false\n\t};\n\n\t// btnBackToTop = document.getElementById('back-to-top');\n\n\thandleScroll = () => {\n\t\tif (window.scrollY === 0) {\n\t\t\t// back to top\n\t\t\t// hide back to top button\n\t\t\t// this.btnBackToTop.style.display = '';\n\t\t\tthis.setState({\n\t\t\t\tshowBackToTop: false\n\t\t\t});\n\t\t} else {\n\t\t\t// scrolling\n\t\t\t// show back to top button\n\t\t\t// this.btnBackToTop.style.display = 'block';\n\t\t\tthis.setState({\n\t\t\t\tshowBackToTop: true\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('scroll', this.handleScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.handleScroll);\n\t}\n\n\tupdateResults = data => {\n\t\tthis.setState({\n\t\t\tsearchResults: [data]\n\t\t});\n\n\t\t// go to searchResults\n\t\tthis.scrollToRef(this.ref_SearchResults);\n\t};\n\n\t// General scroll to element function\n\tscrollToRef = el => {\n\t\twindow.scrollTo({\n\t\t\ttop: el.current.offsetTop,\n\t\t\tbehavior: 'smooth'\n\t\t});\n\n\t\t// *****************************************\n\t\t// replaced with handleScroll\n\t\t// if (el.current.localName === 'header') {\n\t\t// \t// went to top\n\t\t// \t// hide back to top button\n\t\t// \t// btnBackToTop.style.display = '';\n\t\t// \tthis.setState({\n\t\t// \t\tshowBackToTop: false\n\t\t// \t});\n\t\t// }\n\n\t\t// if (el.current.localName === 'main') {\n\t\t// \t// went to searchResults\n\t\t// \t// show back to top button\n\t\t// \t// btnBackToTop.style.display = 'block';\n\t\t// \tthis.setState({\n\t\t// \t\tshowBackToTop: true\n\t\t// \t});\n\t\t// }\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<header id=\"head\" ref={this.ref_SearchForm}>\n\t\t\t\t\t<Search updateResults={data => this.updateResults(data)} />\n\t\t\t\t</header>\n\n\t\t\t\t<main id=\"main\" ref={this.ref_SearchResults}>\n\t\t\t\t\t{this.state.searchResults.length > 0 ? (\n\t\t\t\t\t\t<Results searchResults={this.state.searchResults} />\n\t\t\t\t\t) : null}\n\t\t\t\t</main>\n\n\t\t\t\t<footer>\n\t\t\t\t\t{this.state.searchResults.length > 0 ? (\n\t\t\t\t\t\t<BackToTop\n\t\t\t\t\t\t\tgoBackToTop={() => this.scrollToRef(this.ref_SearchForm)}\n\t\t\t\t\t\t\tshowBackToTop={this.state.showBackToTop}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<span>\n\t\t\t\t\t\tPhoto by Ria Puskas on Unsplash â€¢ Built by{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"http://www.asktami.com\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTami Williams\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</span>\n\t\t\t\t</footer>\n\t\t\t</>\n\t\t);\n\t}\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}